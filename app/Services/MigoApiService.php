<?phpnamespace App\Services;use Illuminate\Support\Facades\Http;use Illuminate\Http\Client\RequestException;use Log;class MigoApiService{    protected string $baseUrl;    protected string $token;    public function __construct()    {        $this->baseUrl = config('services.migo_api.base_uri');        $this->token   = config('services.migo_api.token');    }    public function post(string $resource, array $payload = []): array    {        $endpoint = '/' . ltrim($resource, '/');        try {            return Http::baseUrl($this->baseUrl)                ->withToken($this->token)                ->timeout(5)                ->retry(3, 100)                ->acceptJson()                ->post($endpoint, $payload)                ->throw()                ->json();        } catch (RequestException $e) {            Log::error("Error POST a {$endpoint}", [                'url'     => $e->request->url(),                'payload' => $payload,                'status'  => $e->response?->status(),                'body'    => $e->response?->body(),                'error'   => $e->getMessage(),            ]);            throw $e;        }    }}